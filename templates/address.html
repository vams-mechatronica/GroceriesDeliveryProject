{% load static %}
<!doctype html>
<html lang="en">

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, minimum-scale=1, user-scalable=no, minimal-ui">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black">
  <meta name="description" content="">
  <script src="{% static 'js/jquery.js' %}"></script>
  <meta name="author" content="">
  <meta name="generator" content="">
  <title>Home</title>
  <!-- Favicons -->
  <link rel="apple-touch-icon" href="/docs/5.2/assets/img/favicons/apple-touch-icon.png" sizes="180x180">
  <link rel="icon" href="/docs/5.2/assets/img/favicons/favicon-32x32.png" sizes="32x32" type="image/png">
  <link rel="icon" href="/docs/5.2/assets/img/favicons/favicon-16x16.png" sizes="16x16" type="image/png">
  <link rel="manifest" href="/docs/5.2/assets/img/favicons/manifest.json">
  <link rel="mask-icon" href="/docs/5.2/assets/img/favicons/safari-pinned-tab.svg" color="#712cf9">
  <link rel="icon" href="/docs/5.2/assets/img/favicons/favicon.ico">
  <meta name="theme-color" content="#712cf9">
  {% comment %} <link rel="stylesheet" href="https://cdn.jsdelivr.net/bxslider/4.2.12/jquery.bxslider.css"> {% endcomment %}
  <link rel="stylesheet" href="{% static 'css/bootstrap.css' %}">
  <link rel="stylesheet" href="{% static 'css/login.css' %}">
  <link rel="stylesheet" href="{% static 'css/searchpop.css' %}">
  <script src="{% static 'js/bootstrap.js' %}"></script>
  <script src="{% static 'js/input-allow.js' %}"></script>
  <!-- Theme styles for this theme -->
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.1/font/bootstrap-icons.css">
  <link href="{% static 'theme/css/bootstrap.min.css' %}" rel="stylesheet">
  <!-- Custom styles for this site -->
  <link href="{% static 'css/style.css' %}" rel="stylesheet">
  <link href="{% static 'css/custome.css' %}" rel="stylesheet">
  <link rel="stylesheet" href="{% static 'css/slick/slick.css' %}">
  <link rel="stylesheet" href="{% static 'css/slick/slick-theme.css' %}">
  <link rel="stylesheet" href="{% static 'css/bootstrap.css' %}">
  

</head>

<body>
    <style>
        .address-form {
            border: 1px solid #e5e5e5;
            padding-top: 0  ;
            position: relative;
        }
        .header-goback{
            position: relative;
            padding: 10px;
            background-color: #00a082;
        }
        .deliver-card{
            border: 1px solid #00a082;
            padding: 20px;
            margin-bottom: 10px;
        }
        .deliver-card p{
            margin-bottom: 5px;
        }
        .default-address{
            color: #00a082;
        }
        .deliver-card a{
            width: max-content;
            padding: 5px 15px;
            border: 1px solid #00a082;
            border-radius: 8px;
            text-decoration: none;
            color: black;
            cursor: pointer;
            transition:0.3s;
            margin-top: 10px;
        }
        .deliver-card a:hover{
            background: #00a082;
            border: 1px solid #00a082;
            color: white;
            transition:0.3s;
        }
        .add_form{
            height: 30vh;
            width: 80%;
            margin: auto;
            background-color: #f7faff;
            position: absolute;
            border: 1px solid #d6d6d6;
            left: 50%;
            top: 50%;
            transform: translate(-50%, -50%);
            cursor: pointer;
        }
        .center_data{
            position: absolute;
            left: 50%;
            top: 50%;
            transform: translate(-50%, -50%);
        }
        .center_data p{
           margin-top: 30px;
           color: #00a082;
        }
        .center_data span{
            position: absolute;
            left: 50%;
            top: 20%;
            width: 20px;
            height: 20px;
            border-radius: 50%;
            border: 1px solid #a5a5a5;
            background-color: white;
            transform: translate(-50%, -50%);
        }
        .center_data span::after{
            position: absolute;
            content: "+";
            left: 50%;
            top: 40%;
            color: #00a082;
            transform: translate(-50%, -50%);
        }
        .header-goback button{
            position: absolute;
            top: 10px;
            left: 10px;
            border-radius: 8px;
            font-size: 12px;
            padding: 15px 25px;
            }
            .header-goback button::before{
            position: absolute;
            content: "";
            top: 10px;
            left: 10px;
            height: 10px;
            width: 10px;
            left: 15px;
            border: none;
            border-left: 2px solid black;
            border-bottom: 2px solid black;
            transform: rotate(45deg);
            }
            .header-goback button::after{
            position: absolute;
            content: "";
            top: 6px;
            left: 10px;
            height: 10px;
            width: 20px;
            left: 15px;
            border: none;
            border-bottom: 2px solid black;
            }
        .default-box{
            position: relative;
        }
        .default-box label{
            position: absolute;
            top: 5px;
            display: none;
            font-size: 12px;
            color: #f7cb07ee;
            margin-left: 15px;
            transition: all 1s ease-out;
        }
        .default-box input{
            width: 100%;
            border: none;
            border-bottom: 1px solid #e5e5e5;
            border-radius: 0;
            color: rgb(129, 129, 129);
            padding: 3px 15px;
        }
        .default-box textarea{
            width: 100%;
            border: none;
            border-bottom: 1px solid #e5e5e5;
            border-radius: 0;
            color: rgb(129, 129, 129);
        }
        .default-box input::placeholder{
           font-size: 14px;
        }
        .choose_address_type .btn-check:checked {
            color: white !important;
        }
        .btn-address a{
            width: 100%;
            padding: 5px 0;
            text-align: center;
            background-color: rgb(213, 213, 213);
            color: black;
            border-radius: 8px;
            text-decoration: none;
        }
        .btn-address a.active{
            background-color: #00a082;
            color: white;
        }
        .btn-outline-warning{
            color: #00a082;
            border: 1px solid #00a082;
        }
        .btn-outline-warning:hover{
            color: #00a082;
            border: 1px solid #00a082;

        }
        @keyframes slideUp {
            0%,
            50% {
              transform: translateY(100%);
              opacity: 0;
            }
             
            51%,
            100% {
              transform: translateY(0);
              opacity: 1;
            
            }
          }
        @media(max-width:500px) and (min-width:300px){
            .add_form {
                position: relative;
                height: 10vh;
                width: 100%;
                top: 50px;
            }
            .center_data span {
                top: 30px;
            }
            .center_data span::after {
                left: 55%;
                top: 40%;
            }
            .center_data p {
                margin-top: 35px;
            }
            .address-form {
                border-bottom: none;
                padding-bottom: 0;
                border: none;
            }
            .header-goback{
            position: relative;
            padding: 10px;
            }
            .header-goback button{
            position: absolute;
            top: 13px;
            left: 10px;
            border-radius: 8px;
            padding: 12px 25px;
            }
            .header-goback button::before{
            position: absolute;
            content: "";
            top: 8px;
            left: 10px;
            height: 8px;
            width: 8px;
            left: 15px;
            border: none;
            border-left: 2px solid black;
            border-bottom: 2px solid black;
            transform: rotate(45deg);
            }
            .header-goback button::after{
            position: absolute;
            content: "";
            top: 7.9px;
            left: 10px;
            height: 5px;
            width: 15px;
            left: 15px;
            border: none;
            border-bottom: 2px solid black;
            }
            .address-form h4{
                margin-top: 10px;
                font-size: 18px;
            }
            .default-box {
                padding: 5px;
            }
            .choose_address_type {
                margin-bottom: 6px;
                
            }
            .btn-address a{
                width: 100%;
                padding: 5px 0;
                text-align: center;
                background-color: rgb(213, 213, 213);
                color: black;
                border-radius: 8px;
                text-decoration: none;
            }
            .btn-address a.active{
                background-color: #00a082;
                color: white;
            }
            .choose_address_type p{
                font-size: 14px;
                margin-bottom: 5px;
            }
        }
    </style>
<div class="header-goback">
    <button onclick="window.history.back()"></button>
    <h3 class="text-center text-light">
        Add New Address
    </h3>
</div>
{% if messages %}
<ul class="messages">
    {% for message in messages %}
    <li{% if message.tags %} class="{{ message.tags }}"{% endif %}>{{ message }}</li>
    {% endfor %}
</ul>
{% endif %}
<div class="body container d-flex flex-wrap">
    <div class="address-form p-xl-2 p-lg-2 p-md-2 col-xl-6 col-lg-6 col-md-8 col-12 my-xl-4" id="form_add">
        <div class="add_form" onclick="add_form_here()">
            <div class="center_data">
                <span></span>
                <p>Add New Address</p>
            </div>
        </div>
    </div>
    <div class="col-xl-6 col-lg-6  col-12 px-xl-4 px-lg-4 px-md-4 mt-4">
        <div class="address-form p-xl-2 p-lg-2 p-md-2">
            <h4>Saved Address</h4>
            {% for addr in addresses %}
            <div class="col-xl-12 col-lg-12 col-md-12 col-12 deliver-card">
                {% if addr.default_address is True %}
                <h6><span class="default-address">default-address</span> : {{addr.address_nick_name}}</h6>
                {% else %}
                <h6>{{addr.address_nick_name}}</h6>
                {% endif %}
                <p>Contact Name: {{addr.nick_name}}</p>
                <p>Address: {{addr.user_address}}</p>
                <p>M. no.: {{addr.mobileno}}</p>
                <a class="deliver here" id="{{addr.id}}" onclick="deliverHere(this.id)">Deliver Here</a>
            </div>
            {% endfor %}
        </div>
    </div>
</div>

    <script>
        function add_form_here(){
            $('#form_add').empty()
            $('#form_add').append(`<form action="" method="post" id="user_address_form" action="{% url 'user-address-page' %}">
                {% csrf_token %}
                <h4>Personal Details</h4>
                <div class="personal-details">
                    <div class="d-flex">
                        <div class="col-6 default-box">
                            <label for="first_name"><span class="danger">*</span>First Name</label>
                            <input type="text" onkeyup="change_lable(this)" name="firstname" id="first_name" placeholder="*First Name">
                            
                        </div>
                        <div class="col-6 default-box">
                            <label for="last_name"><span class="danger">*</span> Last Name</label>
                            <input type="text" onkeyup="change_lable(this)" name="lastname" id="last_name" placeholder="*Last Name">
                        </div>
                    </div>
                    <div class="number default-box col-12">
                        <label for="phone"><span class="danger">*</span> Contact number to say Namaste!</label>
                        <input type="text" onkeyup="change_lable(this)" name="phone_number" id="phone" placeholder="*Contact number to say Namaste!">
                    </div>
                </div>
                <div class="address-details">
                    <h4>Address Details</h4>
                    <div class="d-flex">
                        <div class="default-box col-6">
                            <label for="house_no"><span class="danger">*</span>House no</label>
                            <input type="text" onkeyup="change_lable(this)" name="house_no" id="house_no" placeholder="*House no">
                        </div>
                        <div class="default-box col-6">
                            <label for="appart_name"><span class="danger">*</span>Apparment name</label>
                            <input type="text" onkeyup="change_lable(this)" name="appart_name" id="appart_name" placeholder="*Apparment name">
                        </div>
                    </div>
                    <div class="default-box col-12">
                        <label for="street_address">Street details to locate you</label>
                        <textarea type="text" rows="1" onkeyup="change_lable(this)" name="street_address" id="street_address" placeholder="Street details to locate you"></textarea>
                    </div>
                    <div class="default-box col-12">
                        <label for="landmark_detail">Landmark for easy reach out</label>
                        <textarea type="text" rows="1" onkeyup="change_lable(this)" name="landmark_detail" id="landmark_detail" placeholder="Landmark for easy reach out"></textarea>
                    </div>
                    <div class="default-box col-12">
                        <label for="area_detail"><span class="danger">*</span> Area details</label>
                        <textarea type="text" rows="1" onkeyup="change_lable(this)" name="area_detail" id="area_detail" placeholder="*Area details"></textarea>
                    </div>
                    <div class="d-flex">
                        <div class="default-box col-6">
                            <label for="city_district">City/District</label>
                            <input type="text" onkeyup="change_lable(this)" name="city_district" id="city_district" placeholder="City/District">
                        </div>
                        <div class="default-box col-6">
                            <label for="Pincode"><span class="danger">*</span>Pincode</label>
                            <input type="text" onkeyup="change_lable(this)" name="Pincode" id="Pincode" placeholder="*Pincode">
                        </div>
                    </div>
                    <div class="choose_address_type col-12" name="nick_name_address">
                        <p>Choose nick name for this address</p>
                        <input type="radio" class="btn-check " name="address_nick" id="address_mark_Home" value="Home" autocomplete="off">
                        <label class="btn btn-outline-warning" for="address_mark_Home">Home</label>
    
                        <input type="radio" class="btn-check" name="address_nick" id="address_mark_Office" value="Office" autocomplete="off">
                        <label class="btn btn-outline-warning ms-3" for="address_mark_Office"> Office </label>
    
                        <input type="radio" class="btn-check" name="address_nick" id="address_mark_Other" value="Others" autocomplete="off">
                        <label class="btn btn-outline-warning ms-3" for="address_mark_Other">Other</label>
                        
                    </div>
                    <div class="default-box col-12">
                        <label for="nickname">nickname</label>
                        <input type="text" onkeyup="change_lable(this)" name="nickname" id="nickname" placeholder="nickname">
                    </div>
                </div>
                <div class="btn-address">
                    <a onclick="checkForm(user_address_form)" class="address-btn active" id="form-button">Add Address</a>
                </div>
            </form>`)
        }
        function change_lable(el){
            $(el).removeAttr('placeholder')
            console.log()
            if ($(el).val().length ==0){
                $(el).prev().hide()    
                $(el).attr('placeholder',$(el).prev().text())
            }
            else{
                $(el).prev().show().css( {"top": "0px", "transition" : "all 1s ease-out" ,"animation-name": "slideUp",            "animation-duration": "0.3s", "animation-timing-function": "ease-in"});
            }
        }
        function checkForm( id_form){
            console.log("check form")
            if(!$('#first_name').val()){
                !$('#first_name').focus()
            }
            else if(!$('#last_name').val()){
                $('#last_name').focus()
            }
            else if(!$('#phone').val()){
                $('#phone').focus()
            }
            else if(!$('#house_no').val()){
                $('#house_no').focus()
            }
            else if(!$('#appart_name').val()){
                $('#appart_name').focus()
            }
            else if(!$('#street_address').val()){
                $('#street_address').focus()
            }
            else if(!$('#landmark_detail').val()){
                $('#landmark_detail').focus()
            }
            else if(!$('#area_detail').val()){
                $('#area_detail').focus()
            }
            else if(!$('#city_district').val()){
                $('#city_district').focus()
            }
            else if(!$('#Pincode').val()){
                $('#Pincode').focus()
            }
            else if(!$('#nickname').val()){
                $('#nickname').focus()
            }
            else{
                $('#user_address_form').submit()
            }
        }
    </script>
    <!-- Core javascript for this theme -->
    <script src="{% static 'theme/js/bootstrap.bundle.min.js' %}"></script>
    <script src="{% static 'js/jquery.js' %}"></script>
    <!-- Custom JavaScript for this site -->
    <link href="{% static 'js/home.js' %}" rel="stylesheet">
    <link href="{% static 'css/home.css' %}" rel="stylesheet">
    <script src="https://code.jquery.com/jquery-3.6.1.min.js"></script>
    <script src="{% static 'css/slick/slick.min.js' %}"></script>
    <script src="https://cdn.jsdelivr.net/bxslider/4.2.12/jquery.bxslider.min.js"></script>
    <script src="{% static 'assets/js/bootstrap.js' %}"></script>
    <script src="{% static 'assets/js/jquery.js' %}"></script>
    <script src="{% static 'js/jquery.bootstrap.modal.forms.js' %}"></script>
    <!-- You can alternatively load the minified version -->
    <script src="{% static 'js/jquery.bootstrap.modal.forms.min.js' %}"></script>
    <script>
        var getCookie = function (name) {
            var cookieValue = null;
            if (document.cookie && document.cookie !== '') {
                var cookies = document.cookie.split(';');
                for (var i = 0; i < cookies.length; i++) {
                var cookie = jQuery.trim(cookies[i]);
                // Does this cookie string begin with the name we want?
                if (cookie.substring(0, name.length + 1) === (name + '=')) {
                    cookieValue = decodeURIComponent(cookie.substring(name.length + 1));
                    break;
                }
                }
            }
            return cookieValue;
        };
        function deliverHere(id){
            console.log("calling ADdres")
            var deliver_here = getCookie('deliver_here')
            if (deliver_here == null || deliver_here == undefined || deliver_here !== null){
                deliver_here = id
            }

            document.cookie ='deliver_here=' + deliver_here + "; domain=;path=/"
        }
    </script>
</body>
</html>